---
title: Three.js Demo
authors: others, djulien
references: https://threejsfundamentals.org/threejs/lessons/threejs-fundamentals.html
keywords: OpenGL, WebGL, Javascript, notebook
description: interactive Javascript notebook Three.js demo
---
# Three.js demo
This JavaScript Notebook demonstrates an (to be) interactive OpenGL Three.js modeler.

The modeler runs as JavaScript code within your browser and uses WebGL.  It is adapted from various example code from [Three.js Fundamentals](https://threejsfundamentals.org/threejs/lessons/threejs-fundamentals.html).

[toc]

## Example Model (Hello Cube)
Below is just one simple OpenGL model example:

<script type="module">
//import * as THREE from './resources/threejs/r115/build/three.module.js';
//import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.101.1/build/three.min.js";
//require("https://cdn.jsdelivr.net/npm/three@0.101.1/examples/js/controls/OrbitControls.js");
//CAUTION: must use type="module" above for "import" keyword to be valid
import * as THREE from 'https://unpkg.com/three@0.108.0/build/three.module.js';
import {OrbitControls} from 'https://unpkg.com/three@0.108.0/examples/jsm/controls/OrbitControls.js';
 
//function main() {
  const canvas = document.querySelector('#c');
  const renderer = new THREE.WebGLRenderer({canvas});
//  ...
const fov = 75;
const aspect = 2;  // the canvas default
const near = 0.1;
const far = 5;
const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
camera.position.z = 2;

const scene = new THREE.Scene();
const boxWidth = 1;
const boxHeight = 1;
const boxDepth = 1;
const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);

//const material = new THREE.MeshBasicMaterial({color: 0x44aa88});
const material = new THREE.MeshPhongMaterial({color: 0x44aa88});  // greenish blue
const cube = new THREE.Mesh(geometry, material);
scene.add(cube);

//if (false)
{
  const color = 0xFFFFFF;
  const intensity = 1;
  const light = new THREE.DirectionalLight(color, intensity);
  light.position.set(-1, 2, 4);
  scene.add(light);
}

renderer.render(scene, camera);

function render(time) {
  time *= 0.001;  // convert time to seconds
 
  cube.rotation.x = time;
  cube.rotation.y = time;
 
  renderer.render(scene, camera);
 
  requestAnimationFrame(render);
}
requestAnimationFrame(render);
</script>
<canvas id="c"></canvas>

If you're reading this in a browser, the block of code above is interactive - click on it and edit the code to experiment.  Changes take effect immediately and will be displayed in the WebGL panel to the right of the shader code.

## Other Examples
The above shader example isn't very exciting.  For more examples and info about shaders, see []().

#### (shader plumbing)
This area pulls in additional JavaScript files used by the shader editor/viewer.
<xscript type="text/javascript" src="./lib/highlight.min.js"></xscript>
<xscript type="text/javascript" src="./lib/bos-main.js" defer></xscript>

#### (eof)
<!--
jsNotebook 0-install boot loader:
Include or copy+paste this file into your jsNotebook file.
-->
<noscript>ERROR: This jsNotebook can't be displayed unless JavaScript is enabled.</noscript>
<style>
body /*tty (green screen) style*/
{
  font-family: "Courier New", Courier, monospace;
  font-size: 12px;
  white-space: pre-line;
  background-color: #333;
  color: #0c0;
  overflow: hidden auto; /*vertical scroll only if needed; no horizontal scroll*/
  min-height: 100%; /*fill entire window; CAUTION: parent height can't be "auto"*/
  margin: 0;
}
noscript /*error message style*/
{
  font-weight: bold;
  font-size: 18px;
  background-color: #300;
  color: #f00;
  border-color: #f00;
  border: 2px solid;
  border-radius: 8px;
  padding: 6px 12px;
  margin: 6px 12px;
  position: fixed; /*overlay previous content, no real estate*/
  top: 10%;
}
DUNNO-html
{
  height: 100%; /*kludge: body needs to know parent's height*/
}
</style>
<script>
const VER = "0.20.7"; //can be used for backwards compatibility
const CDN = "https://raw.githubusercontent.com/djulien/jsNotebook/master/NOTEBOOKs/SelfContained"; //default location of external files
//const CDN = "http://localhost:3000/SelfContained"; //default location of external files
const isready = new Promise((resolve, reject) =>
{
//load external files:
//CORS prevents auto-loading via HTML tags in local file; use fetch() instead
  [
     {
        type: 'text/javascript',
        tag: "script.src",
        path: "/js/jsNotebook.js",
     },
     {
        rel: 'stylesheet',
        tag: "link.href",
        path: "/css/jsNotebook.css",
        notify: true,
     },
   ].forEach(({path, tag, type, rel, notify}) =>
   {
      const what = rel || type || "JUNK"; //avoid undefined attr
      const [name, attr] = tag.split(".");
      const is_loaded = Array.from(document.getElementsByTagName(name)).some((dom_elt) => dom_elt[attr].endsWith(path));
console.log(`checking for ${name}:`, JSON.stringify(path), "is loaded?", is_loaded);
      if (is_loaded && notify) resolve(what + " already loaded");
      if (is_loaded) return; //continue
      fetch(CDN + path) //, {mode: 'no-cors'})
        .then((resp) =>
        {
          if (!resp.ok) throw new Error(`bad response: ${resp.statusText}`); //console.log("bad response:", resp.statusText);
          return resp.text(); //unparsed text stream
        })
        .then((contents) =>
        {
console.log("got " + contents.length + ":", JSON.stringify(contents.slice(0, 30)), "...", JSON.stringify(contents.slice(-30)));
          const newtag = Object.assign(document.createElement(name),
          {
              [what]: what, //rel || type,
//        [attr]: CDN + path,
              innerHTML: contents,
          });
//DON'T NEED: <img> trick adapted from https://www.viget.com/articles/js-201-run-a-function-when-a-stylesheet-finishes-loading/
//          if (notify) newtag.onerror = () =>
//          {
//            document.body.remove(newtag); //no further use for <img>
//            resolve(what + " loaded");
//          };
          document.getElementsByTagName('head')[0].appendChild(newtag);
console.log(name, what + " added");
          resolve(what + " loaded");
        })
        .catch((err) =>
        {
console.log(`Fetch ${CDN + path} failed:`, err);
          reject(Error(what + " failed to load: " + err));
        });
   });
});
</script>
